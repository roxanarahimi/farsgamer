"use strict";(self["webpackChunkfars_gamer"]=self["webpackChunkfars_gamer"]||[]).push([[512],{5172:function(e,t,a){a.r(t),a.d(t,{default:function(){return he}});var l=a(3396),s=a(7139);const o=e=>((0,l.dD)("data-v-1bf52bb7"),e=e(),(0,l.Cn)(),e),c=o((()=>(0,l._)("div",{class:"d-flex justify-content-between"},[(0,l._)("h3",{class:"fw-bold mb-0",style:{"line-height":"50px"}},"حسابداری")],-1))),d=o((()=>(0,l._)("hr",{class:"text-muted mb-5 mt-2"},null,-1))),n={class:"row flex-row-reverse px-3"},i={class:"col-xxl-3 p-0 m-0 px-xxl-3 mb-3"},r={key:0,class:"card h-100"},b={class:"card-body"},m={class:"row"},p={class:"col-lg-12 mb-3"},u={class:"credit-card mx-auto text-light"},h=o((()=>(0,l._)("p",{class:"small p-2"}," موجودی کیف پول ",-1))),g={class:"text-center mt-4"},v={class:"col-lg-12 mb-3"},_=o((()=>(0,l._)("p",null,"قابل برداشت",-1))),f={class:"mx-auto rounded",style:{overflow:"hidden","background-color":"#eeeeee"}},y={class:"d-flex w-100 h-100 py-3 px-3",style:{"border-left":"8px solid #00da34"}},w={class:"mb-0 w-100 text-center fw-lighter"},x={class:"fw-bold h3"},k=(0,l.Uk)(" تومان"),A={class:"col-lg-12 mb-3"},j=o((()=>(0,l._)("p",null,"در حال معامله",-1))),z={class:"mx-auto rounded",style:{overflow:"hidden","background-color":"#eeeeee"}},C={class:"d-flex w-100 h-100 py-3 px-3",style:{"border-left":"8px solid #ffbf00"}},D={class:"mb-0 w-100 text-center fw-lighter"},I={class:"fw-bold h3"},B=(0,l.Uk)(" تومان"),q={class:"col-lg-12 mb-3"},S=(0,l.Uk)(" برداشت وجه "),E={class:"col-lg-12 mb-3 d-flex"},T=o((()=>(0,l._)("input",{type:"text",class:"rounded-0 rounded-end px-2",style:{width:"calc(100% - 120px)"},id:"chargeAmount",placeholder:"مبلغ به تومان"},null,-1))),U=(0,l.Uk)(" شارژ کیف پول "),W={key:0,class:"col-xxl-9 p-0 m-0 border rounded mb-3 d-none d-lg-block",style:{"min-height":"600px"}},H={class:"table mb-0 rounded-top text-muted"},K=o((()=>(0,l._)("thead",{class:"bg-light rounded-top"},[(0,l._)("tr",{class:"rounded-top"},[(0,l._)("th",{scope:"col",class:"rounded-top"},"تاریخ"),(0,l._)("th",{scope:"col"},"وضعیت"),(0,l._)("th",{scope:"col"},"کد پیگیری"),(0,l._)("th",{class:"rounded-top",scope:"col"},"مبلغ")])],-1))),M={class:"rounded-top"},Y={class:"text-primary"},R={key:1,class:"col-lg-9 p-0 m-0 border-lg rounded mb-3 d-lg-none",style:{"min-height":"600px"}},Z=(0,l.uE)('<div class="card-header" data-v-1bf52bb7><div class="d-flex justify-content-between py-2" data-v-1bf52bb7><small data-v-1bf52bb7>تاریخ: 03-02-1401</small><small data-v-1bf52bb7>ش پیگیری: 12345678</small></div></div><div class="card-body px-0" data-v-1bf52bb7><div class="d-flex justify-content-between px-3" data-v-1bf52bb7><small data-v-1bf52bb7>وضعیت</small><small class="text-primary" data-v-1bf52bb7>برداشت وجه</small></div><hr data-v-1bf52bb7><div class="d-flex justify-content-between px-3" data-v-1bf52bb7><p class="h5" data-v-1bf52bb7>مبلغ</p><p class="text-primary h5" data-v-1bf52bb7>100,000 تومان</p></div></div>',2),L=[Z],P={class:"modal fade me-5",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},F={class:"modal-dialog modal-dialog-centered"},G={class:"modal-content"},J=o((()=>(0,l._)("div",{class:"modal-header d-flex"},[(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"}),(0,l._)("p",{class:"modal-title text-center w-100"},"درخواست برداشت وجه ")],-1))),N={class:"modal-body"},O={class:"mx-auto rounded d-flex justify-content-between",style:{overflow:"hidden","background-color":"#eeeeee"}},Q=o((()=>(0,l._)("small",{class:"w-25 my-3 me-2 mt-4"},"قابل برداشت",-1))),V={class:"d-flex w-100 h-100 py-3 px-3 w-75",style:{"border-left":"8px solid #00da34"}},X={class:"mb-0 w-100 text-start fw-lighter"},$={class:"fw-bold h3"},ee=(0,l.Uk)(" تومان"),te={class:"mt-2"},ae=o((()=>(0,l._)("label",{for:"amount"},"مبلغ مورد نظر را وارد کنید",-1))),le={class:"d-flex mt-2"},se=o((()=>(0,l._)("label",{for:"allAmount"},"برداشت کل مبلغ قابل برداشت",-1))),oe={class:"d-flex justify-content-between rounded fw-lighter text-black-50 my-2 py-3 px-2",style:{"background-color":"whitesmoke"}},ce={key:0,class:"mb-0"},de={key:1,class:"mb-0"},ne={key:2},ie=o((()=>(0,l._)("div",{class:"modal-footer border-0 justify-content-center"},[(0,l._)("button",{disabled:"",id:"submitBtn",type:"button",class:"btn btn-primary btn-lg px-5","data-bs-dismiss":"modal"},"ثبت"),(0,l._)("button",{type:"button",class:"btn btn-light btn-lg px-5","data-bs-dismiss":"modal"},"انصراف")],-1)));function re(e,t,a,o,Z,re){const be=(0,l.up)("btn-primary-shadow");return(0,l.wg)(),(0,l.iD)(l.HY,null,[c,d,(0,l._)("div",n,[(0,l._)("div",i,[Z.detail?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",b,[(0,l._)("div",m,[(0,l._)("div",p,[(0,l._)("div",u,[h,(0,l._)("h3",g,(0,s.zw)(Z.detail.total_inventory)+" تومان ",1)])]),(0,l._)("div",v,[_,(0,l._)("div",f,[(0,l._)("div",y,[(0,l._)("p",w,[(0,l._)("span",x,(0,s.zw)(Z.detail.removable_inventory),1),k])])])]),(0,l._)("div",A,[j,(0,l._)("div",z,[(0,l._)("div",C,[(0,l._)("p",D,[(0,l._)("span",I,(0,s.zw)(Z.detail.inventory_being_traded),1),B])])])]),(0,l._)("div",q,[(0,l.Wm)(be,{onClick:re.withrawRequest,class:"w-100 d-none d-lg-block","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},{default:(0,l.w5)((()=>[S])),_:1},8,["onClick"])]),(0,l._)("div",E,[T,(0,l.Wm)(be,{onClick:re.chargeWallet,class:"h-100",style:{width:"135px !important","margin-right":"-5px","font-size":"14px"}},{default:(0,l.w5)((()=>[U])),_:1},8,["onClick"])])])])])):(0,l.kq)("",!0)]),((0,l.wg)(),(0,l.iD)("div",W,[(0,l._)("table",H,[K,(0,l._)("tbody",M,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Z.acc,(e=>((0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("td",null,(0,s.zw)(e.date),1),(0,l._)("td",Y,(0,s.zw)(e.status_label),1),(0,l._)("td",null,(0,s.zw)(e.ticket_id),1),(0,l._)("td",null,(0,s.zw)(e.price)+" تومان",1)])))),256))])])])),((0,l.wg)(),(0,l.iD)("div",R,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(3,(e=>(0,l._)("div",{key:e,class:"card mb-3"},L))),64))]))]),(0,l._)("div",P,[(0,l._)("div",F,[(0,l._)("div",G,[J,(0,l._)("div",N,[(0,l._)("div",O,[Q,(0,l._)("div",V,[(0,l._)("p",X,[(0,l._)("span",$,(0,s.zw)(Z.detail.removable_inventory),1),ee])])]),(0,l._)("div",te,[ae,(0,l._)("input",{type:"number",style:{"background-color":"whitesmoke"},onKeyup:t[0]||(t[0]=(...e)=>re.checkAmount&&re.checkAmount(...e)),class:"form-control border-0 py-3",name:"",id:"amount"},null,32)]),(0,l._)("div",le,[(0,l._)("input",{type:"checkbox",onClick:t[1]||(t[1]=(...e)=>re.checkAmount&&re.checkAmount(...e)),class:"form-check ms-2",name:"",id:"allAmount"}),se]),(0,l._)("div",oe,[Z.cards.length?((0,l.wg)(),(0,l.iD)("p",ce,"شماره کارت")):(0,l.kq)("",!0),Z.cards.length?((0,l.wg)(),(0,l.iD)("p",de,(0,s.zw)(Z.cards[0]),1)):((0,l.wg)(),(0,l.iD)("p",ne,"لطفا کارت بانکی خود را ثبت کنید"))])]),ie])])])],64)}var be=a(5806),me={name:"Accounting",components:{BtnPrimaryShadow:be.Z},data(){return{acc:{},detail:{},cards:{}}},mounted(){this.getData()},methods:{getData(){axios.create({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).get("https://server.elfiro.com/api/v1/client/accounting").then((e=>{this.acc=e.data.data.requests.records})).catch((e=>{console.log(e)})),axios.create({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).get("https://server.elfiro.com/api/v1/client/accounting/details").then((e=>{this.detail=e.data.data.details})).catch((e=>{console.log(e)})),axios.create({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).get("https://server.elfiro.com/api/v1/client/cards").then((e=>{this.cards=e.data.data.cards,console.log("cards",this.cards)})).catch((e=>{console.log(e)}))},withrawRequest(){axios.create({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).post("https://server.elfiro.com/api/v1/client/accounting",{price:0,card:0}).then((e=>{this.acc=e.data.data.requests.records})).catch((e=>{console.log(e)}))},chargeWallet(){document.querySelector("#chargeAmount").value<1e4?alert("مبلغ شارژ باید بیش از 10,000 تومان باشد"):axios.create({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).post("https://server.elfiro.com/api/v1/client/accounting/charge",{price:document.querySelector("#chargeAmount").value,gateway:"zarinpal",call_back_address:"https://farsgamer.webagent.ir/accounting"}).then((e=>{window.location=e.data.data.gateway.link})).catch((e=>{console.log(e)}))},checkAmount(){""!==document.getElementById("amount").value&&document.getElementById("amount").value>1e4||document.getElementById("allAmount").checked?document.getElementById("submitBtn").removeAttribute("disabled"):document.getElementById("submitBtn").setAttribute("disabled","disabled")}}},pe=a(89);const ue=(0,pe.Z)(me,[["render",re],["__scopeId","data-v-1bf52bb7"]]);var he=ue}}]);
//# sourceMappingURL=accounting.55cf7a30.js.map