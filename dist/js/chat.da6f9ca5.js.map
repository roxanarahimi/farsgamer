{"version":3,"file":"js/chat.da6f9ca5.js","mappings":"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","sources":["webpack://fars-gamer/./src/views/Chat.vue","webpack://fars-gamer/./src/views/Chat.vue?65ee"],"sourcesContent":["<template>\r\n <div v-if=\"selectedChat\">\r\n   <div class=\"border-bottom pt-3\">\r\n     <div class=\"d-flex w-100 h-100 py-3 px-3 inner\">\r\n       <img :src=\"selectedChat.user2?.profile_image\" style=\"width: 50px; height: 50px; border-radius: 50%\">\r\n       <div>\r\n         <p class=\"mb-0 px-2 text-muted\">{{  selectedChat.user2?.user_name }}</p>\r\n       </div>\r\n\r\n     </div>\r\n   </div>\r\n   <div class=\"chat row p-5 pt-0 m-0 \" style=\"\">\r\n\r\n     <div v-if=\"chats.length\" class=\"d-flex justify-content-center\">\r\n       <div class=\"col-4 mt-3 p-3 bg-light border border-primary rounded mb-3\" style=\"background-color: lightgrey !important\">\r\n         <p>قوانین چت</p>\r\n         <p>1.</p>\r\n         <p>2.</p>\r\n         <p>3.</p>\r\n         <p>4.</p>\r\n       </div>\r\n     </div>\r\n     <hr v-if=\"chats.length\" class=\"border-primary my-5\">\r\n     <div v-for=\"item in chats\" class=\"w-100\">\r\n       <div v-if=\"item.sender_id === user1\" class=\"myMsg py-1\">\r\n         <p class=\"m-3 mx-4\">{{ item.content }}</p>\r\n       </div>\r\n       <div v-if=\"item.sender_id === user2\" class=\"theirMsg\">\r\n         <p class=\"m-3 mx-4\">{{ item.content }}</p>\r\n       </div>\r\n     </div>\r\n   </div>\r\n   <div class=\"border-top d-flex \" style=\"background-color: whitesmoke; \">\r\n    <span @click=\"sendMessage(groupId)\" style=\"width: 50px; font-size: 30px;margin-top: 25px; text-align: left\"><i\r\n        class=\"bi bi-send text-primary\"></i></span>\r\n     <input @keyup=\"messageInput($event)\" type=\"text\" id=\"message\" class=\"form-control bg-white  m-3\" style=\"width: calc(100% - 100px)\">\r\n     <span style=\"width: 50px; font-size: 30px;margin-top: 25px; text-align: right\"><i\r\n         class=\"bi bi-paperclip text-primary\"></i></span>\r\n   </div>\r\n </div>\r\n  <div v-else>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BottomBar from \"@/components/BottomBar\";\r\nexport default {\r\n  name: \"Chat\",\r\n  components: {BottomBar},\r\n  data(){\r\n    return{\r\n      selectedChat: {},\r\n      groupId: localStorage.getItem('chat_g_id'),\r\n      chats: [],\r\n      user1:0,\r\n      user2:0\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    console.log(localStorage.getItem('chat_g_id'));\r\n\r\n    if (localStorage.getItem('chat_g_id')){\r\n      this.getMessages(localStorage.getItem('chat_g_id'));\r\n\r\n    }\r\n    document.querySelector('#page_content').style.padding = '0'\r\n    document.querySelector('#page_content').style.margin = '0'\r\n    document.querySelector('#page_content').style.width = '100%'\r\n    document.querySelector('#app').style.backgroundColor = 'whitesmoke'\r\n  },\r\n  unmounted() {\r\n    document.querySelector('#app').style.backgroundColor = 'white'\r\n    document.querySelector('#page_content').style.width = 'calc(100% - 300px - 5rem)'\r\n\r\n  },\r\n  methods:{\r\n    getMessages(groupId){\r\n      axios.create({\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json',\r\n          'Authorization': 'Bearer ' + localStorage.getItem('token'),\r\n        }\r\n      })\r\n          .get('https://server.elfiro.com/api/v1/client/chat/list/'+groupId)\r\n          .then((response)=>{\r\n            console.log('chats',response.data.data.group.record.chats)\r\n            this.chats = response.data.data.group.record.chats;\r\n            this.user1 = response.data.data.group.record.user1.id;\r\n            this.user2 = response.data.data.group.record.user2.id;\r\n            this.selectedChat = response.data.data.group.record;\r\n          })\r\n          .catch((error)=>{  console.log(error)  });\r\n\r\n    },\r\n    messageInput(e){\r\n      if (e.key == 'Enter'){\r\n        this.sendMessage(this.groupId);\r\n      }\r\n    },\r\n    sendMessage(groupId){\r\n      axios.create({\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json',\r\n          'Authorization': 'Bearer ' + localStorage.getItem('token'),\r\n        }\r\n      })\r\n          .post('https://server.elfiro.com/api/v1/client/chat/list/'+groupId,{\r\n            message: document.querySelector('#message').value,\r\n          })\r\n          .then((response)=>{\r\n\r\n            document.querySelector('#message').value = '';\r\n            this.getMessages(groupId);\r\n          })\r\n          .catch((error)=>{  console.log(error)  });\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/*#page_content {*/\r\n/*  width: 100% !important;*/\r\n/*}*/\r\n.myMsg {\r\n  background-color: white;\r\n  border-radius: 30px 0 30px 30px;\r\n  max-width: 300px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.theirMsg {\r\n  background-color: lightgrey;\r\n  border-radius: 0 30px 30px 30px;\r\n  max-width: 300px;\r\n  float: left !important;\r\n  margin-bottom: 10px;\r\n\r\n}\r\n\r\n.chat {\r\n  background-color: whitesmoke;\r\n  height: calc(100vh - 240px);\r\n  overflow-y: scroll;\r\n  margin-right: 1px;\r\n  margin-left: 1px\r\n}\r\n\r\n@media (max-width: 760px) {\r\n  .chat {\r\n    height: calc(100vh - 300px);\r\n  }\r\n}\r\n</style>","import { render } from \"./Chat.vue?vue&type=template&id=083f94c3&scoped=true\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\n\nimport \"./Chat.vue?vue&type=style&index=0&id=083f94c3&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\PROJECTS\\\\2022\\\\fars-gamer\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-083f94c3\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_hoisted_8","_hoisted_17","$data","_createElementBlock","_hoisted_1","src","user2","profile_image","_toDisplayString","user_name","length","_hoisted_9","_Fragment","_renderList","item","sender_id","content","onClick","$options","onKeyup","$event","type","id","_hoisted_19","_hoisted_20","name","components","BottomBar","data","selectedChat","groupId","localStorage","getItem","chats","user1","mounted","console","log","this","getMessages","document","querySelector","padding","margin","width","backgroundColor","unmounted","methods","axios","create","headers","get","then","response","group","record","catch","error","messageInput","e","key","sendMessage","post","message","value","__exports__","render"],"sourceRoot":""}